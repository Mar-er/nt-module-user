# 用户注册
mutation register($registerUserInput: RegisterUserInput){
	register(registerUserInput: $registerUserInput) {
		code
		message
	}
}
{
	"registerUserInput": {
    "username": "test",
		"password": "test"
  }
}

# 用户登录
query login($username: String!, $password: String!) {
	login(username: $username, password: $password) {
		code
		message
		data {
			accessToken
			expiresIn
		}
	}
}
{
	"username": "dzy",
	"password": "123qwe"
}

# 创建用户
mutation createUser($createUserInput: CreateUserInput) {
	createUser(createUserInput: $createUserInput) {
		code
		message
	}
}
{
	"createUserInput": {
		"username": "dzy",
		"password": "123qwe",
		"infoKVs": [
			{
				"key": 1,
				"value": "段泽尧"
			},
			{
				"key": 2,
				"value": "男"
			},
			{
				"key": 3,
				"value": "23"
			}
		],
		"roleIds": [
			1
		],
		"organizationIds": [
			2
		]
	}
}

# 给用户添加角色
mutation addUserRole($userId: Int!, $roleId: Int!) {
	addUserRole(userId: $userId, roleId: $roleId) {
		code
		message
	}
}
{
	"userId": 1,
	"roleId": 1
}

# 给用户添加组织
mutation addUserOrganization($userId: Int!, $organizationId: Int!) {
	addUserOrganization(userId: $userId, organizationId: $organizationId) {
		code
		message
	}
}
{
	"userId": 1,
	"organizationId": 2
}

# 更新指定用户信息
mutation updateUserInfo($userId: Int!, $updateUserInput: UpdateUserInput) {
  updateUserInfo(userId: $userId, updateUserInput: $updateUserInput) {
    code
    message
  }
}
{
  "userId": 1,
  "updateUserInput": {
    "infoKVs": [
      {
      "key": null,
      "value": "段泽尧",
      "relationId": 1
      },
      {
      "key": null,
      "value": "男",
      "relationId": 2
      },
      {
      "key": null,
      "value": "23",
      "relationId": 4
      },
      {
      "key": null,
      "value": "西安",
      "relationId": 3
      }
    ]
  }
}

# 更新当前登录用户信息
mutation updateCurrentUserInfo($updateCurrentUserInput: UpdateCurrentUserInput) {
  updateCurrentUserInfo(updateCurrentUserInput: $updateCurrentUserInput) {
    code
    message
  }
}
{
  "updateCurrentUserInput": {
    "infoKVs": [
      {
      "key": null,
      "value": "dzzzzzy",
      "relationId": 1
      },
      {
      "key": null,
      "value": "男",
      "relationId": 2
      },
      {
      "key": null,
      "value": "23",
      "relationId": 4
      },
      {
      "key": null,
      "value": "西安",
      "relationId": 3
      }
    ]
  }
}

# 查询当前登录的用户信息
query findCurrentUserInfo {
  findCurrentUserInfo {
    code
    message
    data {
      userId
      username
      email
      mobile
      banned
      recycle
      userRoles {
        id
        name
      }
      userOrganizations {
        id
        name
      }
      userInfos {
        id
        order
        relationId
        type
        name
        value
        description
        registerDisplay
        informationDisplay
      }
    }
  }
}

# 通过ID查询用户信息
query findUserInfoById($userId: [Int]!) {
  findUserInfoById(userId: $userId) {
    code
    message
    data {
      userId
      username
      email
      mobile
      banned
      recycle
      userRoles {
        id
        name
      }
      userOrganizations {
        id
        name
      }
      userInfos {
        id
        order
        relationId
        type
        name
        value
        description
        registerDisplay
        informationDisplay
      }
    }
  }
}
{
  "userId": [1]
}

# 获取指定组织ID下的用户
query findUsersInOrganization($organizationId: Int!) {
  findUsersInOrganization(organizationId: $organizationId) {
    code
    message
    data {
      userId
      username
      email
      mobile
      banned
      recycle
      userRoles {
        id
        name
      }
      userOrganizations {
        id
        name
      }
      userInfos {
        id
        order
        relationId
        type
        name
        value
        description
        registerDisplay
        informationDisplay
      }
    }
  }
}
{
  "organizationId": 1
}